-- 告警场景：温度超阈值事件（近24小时）
SELECT
  r.`区域编号`, r.`区域名称`, r.`区域类型`,
  r.`经度`, r.`纬度`, r.`负责人ID`,
  s.`传感器编号`, s.`设备型号`, s.`通信协议`,
  d.`数据采集时间`, d.`监测数值`
FROM `区域` r
JOIN `传感器` s ON s.`区域编号` = r.`区域编号`
JOIN `监测数据` d ON d.`传感器编号` = s.`传感器编号`
WHERE s.`监测类型` = '温度'
  AND d.`数据状态` = '有效'
  AND d.`数据采集时间` >= NOW() - INTERVAL 24 HOUR
  AND d.`监测数值` >= 40.0 
ORDER BY d.`数据采集时间` DESC;

